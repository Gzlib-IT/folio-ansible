---
# Variables for building testing/testing-backend
auth_required: true
loan_action: true
total_records_key: totalRecords
load_addresstypes: true
load_requests: true
mod_auth_prefixes:
  - mod-permissions
  - mod-authtoken
  - mod-login
  - mod-users
mod_login_schema: diku_mod_login
mod_permissions_schema: diku_mod_permissions
mod_authtoken_prefix: mod-authtoken
mod_configuration_prefix: mod-configuration
mod_metadata_prefixes:
  - mod-inventory-storage
  - mod-inventory

folio_modules:
  - index: 0
    name: mod-authtoken
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    okapi_docker_pull: "false"

  - index: 1
    name: mod-permissions
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

  - index: 2
    name: mod-login
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_cmd:
      - "verify.user=true"
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

  - index: 3
    name: mod-configuration
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"
    
  - index: 4
    name: mod-users
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

  - index: 5
    name: mod-users-bl
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    okapi_docker_pull: "false"

  - index: 6
    name: mod-login-saml
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    okapi_docker_pull: "false"

  - index: 7
    name: mod-inventory-storage
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

  - index: 8
    name: mod-inventory
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: JAVA_OPTS, value: "-Dorg.folio.metadata.inventory.storage.type=okapi" }
    okapi_docker_pull: "false"

  - index: 9
    name: mod-circulation-storage
    module_id: circulation-storage
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

  - index: 10
    name: mod-circulation
    module_id: circulation
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    okapi_docker_pull: "false"

  - index: 11
    name: mod-notes
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

  - index: 12
    name: mod-notify
    mod_descriptor_repo: http://folio-registry.aws.indexdata.com:9130
    image_repository: folioci
    docker_env:
      - { name: db.host, value: "{{ module_pg_host }}" }
      - { name: db.port, value: "{{ pg_port }}" }
      - { name: db.username, value: "{{ pg_admin_user }}" }
      - { name: db.password, value: "{{ pg_admin_password }}" }
      - { name: db.database, value: "{{ module_database }}" }
    storage: postgres
    database: "{{ module_database }}"
    pg_user: "{{ pg_admin_user }}"
    pg_password: "{{ pg_admin_password }}"
    okapi_docker_pull: "false"

# Variables for building UI
with_github: false
stripes_core_version: latest
stripes_components_version: latest
stripes_modules:
  - { name: "@folio/trivial", version: "latest" }
  - { name: "@folio/users", version: "latest" }
  - { name: "@folio/items", version: "latest" }
  - { name: "@folio/checkout", version: "latest" }
  - { name: "@folio/checkin", version: "latest" }
  - { name: "@folio/requests", version: "latest" }
  - { name: "@folio/organization", version: "latest" }
  - { name: "@folio/developer", version: "latest" }
  - { name: "@folio/circulation", version: "latest" }
  - { name: "@folio/plugin-markdown-editor", version: "latest" }
  - { name: "@folio/plugin-markdown-better", version: "latest" }
  - { name: "@folio/plugin-find-user", version: "latest" }
okapi_register_modules: true
folio_npm_repo: npm-folioci

# Metadata for CI build
version: 5.0.0
