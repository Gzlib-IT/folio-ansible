{
  "_comments": [
    "Builds depend on ova file built from debian/jessie64 image; see Vagrantfile for details"
  ],
  "builders": [
    {
      "name": "stable",
      "type": "virtualbox-ovf",
      "headless": true,
      "source_path": "packer/debian_jessie64-8.8.1.ova",
      "checksum": "009de373c05a50c9dc308c04a76703e0",
      "checksum_type": "md5",
      "ssh_username": "vagrant",
      "ssh_private_key_file": "packer/vagrant_key.txt",
      "shutdown_command": "echo 'packer' | sudo -S shutdown -P now"
    },
    {
      "name": "testing",
      "type": "virtualbox-ovf",
      "headless": true,
      "source_path": "packer/debian_jessie64-8.8.1.ova",
      "checksum": "009de373c05a50c9dc308c04a76703e0",
      "checksum_type": "md5",
      "ssh_username": "vagrant",
      "ssh_private_key_file": "packer/vagrant_key.txt",
      "shutdown_command": "echo 'packer' | sudo -S shutdown -P now"
    },
    {
      "name": "testing-backend",
      "type": "virtualbox-ovf",
      "headless": true,
      "source_path": "packer/debian_jessie64-8.8.1.ova",
      "checksum": "009de373c05a50c9dc308c04a76703e0",
      "checksum_type": "md5",
      "ssh_username": "vagrant",
      "ssh_private_key_file": "packer/vagrant_key.txt",
      "shutdown_command": "echo 'packer' | sudo -S shutdown -P now"
    }
  ],
  "provisioners": [
    {
      "type": "ansible",
      "playbook_file": "./folio.yml",
      "groups": [
        "stable",
        "vagrant",
        "folio-backend",
        "stripes"
      ],
      "only": ["stable"]
    },
    {
      "type": "ansible",
      "playbook_file": "./folio.yml",
      "groups": [
        "testing",
        "vagrant",
        "folio-backend",
        "stripes"
      ],
      "only": ["testing"]
    },
    {
      "type": "ansible",
      "playbook_file": "./folio.yml",
      "groups": [
        "testing",
        "vagrant",
        "folio-backend"
      ],
      "only": ["testing-backend"]
    }
  ],
  "post-processors": [
    {
      "type": "vagrant",
      "vagrantfile_template": "Vagrantfile.demo",
      "except": ["testing-backend"]
    },
    {
      "type": "vagrant",
      "vagrantfile_template": "Vagrantfile.backend",
      "only": ["testing-backend"]
    }
  ]
}
